---
import "../styles/global.css";
import Navbar from "./Navbar.astro";
---

<!-- Shared Alpine.js State -->
<div
  x-data="{ 
    isDropdownOpen: false,
    selectedTeam: null,
    teamColors: {
      warriors: { DEFAULT: '#1D428A', secondary: '#FFC72C' },
      'mclaren-2024': { DEFAULT: '#FF8700', secondary: '#000000' },
      'malboro-mclaren': { DEFAULT: '#FF0000', secondary: '#FFFFFF' },
      'hakkinen-mclaren': { DEFAULT: '#C0C0C0', secondary: '#000000', accent: '#000000' }
    },
    currentSection: 0 // Track the current section index
  }"
  x-init="
    // Set currentSection based on URL hash
    if (window.location.hash === '#aboutme') {
      currentSection = 1;
    } else if (window.location.hash === '#mywork') {
      currentSection = 2;
    }
  "
  @change-section.window="currentSection = $event.detail.section"
>
  <!-- Navbar -->
  <Navbar />

  <!-- Single Page Slider Container -->
  <div class="w-full h-screen overflow-hidden relative">
    <!-- Sections Container -->
    <div
      class="flex transition-all duration-1000 ease-out"
      :style="`transform: translateX(-${currentSection * 100}%);`"
    >
      <!-- Hero Section -->
      <div
        class="w-full h-screen flex-shrink-0 px-[329px] flex flex-col items-center justify-center relative overflow-hidden pt-10"
        :style="selectedTeam ? `background-color: ${teamColors[selectedTeam].DEFAULT};` : 'background-color: var(--custom-white);'"
        x-transition:enter="transition duration-1000 ease-in-out transform"
        x-transition:enter-start="opacity-0 translate-x-full"
        x-transition:enter-end="opacity-100 translate-x-0"
      >
        <!-- Name -->
        <div
          class="text-center text-[80px] font-playfair font-bold mb-[70px] transition-all duration-1000 ease-out group"
          :style="selectedTeam ? `color: ${teamColors[selectedTeam].secondary};` : 'color: var(--custom-black);'"
          x-on:mouseenter="$el.classList.add('scale-105')"
          x-on:mouseleave="$el.classList.remove('scale-105')"
        >
          Muhammad Khalid Atthoriq
        </div>

        <!-- Content Container -->
        <div class="w-full flex items-start justify-center gap-[100px]">
          <!-- Specialties on the left -->
          <div
            class="text-[26px] font-montserrat font-medium flex flex-col space-y-4 transition-all duration-1000 ease-out delay-200"
            :style="selectedTeam ? `color: ${teamColors[selectedTeam].secondary};` : 'color: var(--custom-black);'"
          >
            <div
              class="whitespace-nowrap transition-all duration-300 hover:scale-105 hover:text-custom-gold"
              x-on:mouseenter="$el.classList.add('scale-105', 'text-custom-gold')"
              x-on:mouseleave="$el.classList.remove('scale-105', 'text-custom-gold')"
            >
              Front-End Developer
            </div>
            <div
              class="whitespace-nowrap transition-all duration-300 hover:scale-105 hover:text-custom-gold"
              x-on:mouseenter="$el.classList.add('scale-105', 'text-custom-gold')"
              x-on:mouseleave="$el.classList.remove('scale-105', 'text-custom-gold')"
            >
              UI/UX Designer
            </div>
            <div
              class="whitespace-nowrap transition-all duration-300 hover:scale-105 hover:text-custom-gold"
              x-on:mouseenter="$el.classList.add('scale-105', 'text-custom-gold')"
              x-on:mouseleave="$el.classList.remove('scale-105', 'text-custom-gold')"
            >
              Videographer
            </div>
            <div
              class="whitespace-nowrap transition-all duration-300 hover:scale-105 hover:text-custom-gold"
              x-on:mouseenter="$el.classList.add('scale-105', 'text-custom-gold')"
              x-on:mouseleave="$el.classList.remove('scale-105', 'text-custom-gold')"
            >
              Photographer
            </div>
          </div>

          <!-- Circular Background and Image -->
          <div
            class="relative flex items-center justify-center transition-all duration-1000 ease-out delay-400 group -ml-[50px]"
            x-on:mouseenter="$el.classList.add('scale-105')"
            x-on:mouseleave="$el.classList.remove('scale-105')"
          >
            <div
              class="w-[800px] h-[800px] rounded-full transition-all duration-300 group-hover:scale-105"
              :style="selectedTeam ? `background-color: ${teamColors[selectedTeam].secondary};` : 'background-color: var(--custom-gold);'"
            ></div>
            <img
              src="/src/assets/Images/khalid-mainimage.png"
              alt="Profile Image"
              class="w-[700px] h-auto absolute -top- rounded-lg transition-all duration-1000 ease-out delay-600 group-hover:scale-105"
            />
          </div>

          <!-- Button on the right -->
          <div class="flex items-center transition-all duration-1000 ease-out delay-800">
            <button
              class="text-[24px] font-montserrat font-semibold px-8 py-3 rounded-lg hover:shadow-xl hover:scale-105 transition-all duration-300"
              :style="selectedTeam ? `background-color: ${teamColors[selectedTeam].secondary}; color: ${teamColors[selectedTeam].DEFAULT};` : 'background-color: var(--custom-pink); color: var(--custom-black);'"
              x-on:mouseenter="$el.classList.add('rotate-2', 'shadow-lg')"
              x-on:mouseleave="$el.classList.remove('rotate-2', 'shadow-lg')"
            >
              XPLORE!
            </button>
          </div>
        </div>

        <!-- Navigation Arrow to About Me -->
        <div
          class="absolute right-12 top-1/2 -translate-y-1/2 flex flex-col items-center space-y-4"
          x-show="currentSection === 0"
        >
          <button
            @click="currentSection = 1"
            class="group flex flex-col items-center transition-all duration-300"
          >
            <div
              class="w-12 h-12 rounded-full border-2 border-custom-black flex items-center justify-center mb-2 group-hover:bg-custom-gold group-hover:border-custom-gold transition-all duration-300"
            >
              <span class="text-2xl text-custom-black group-hover:text-custom-gold transition-all duration-300">&rarr;</span>
            </div>
            <span
              class="text-sm font-montserrat text-custom-black opacity-0 group-hover:opacity-100 transition-all duration-300"
            >About Me</span>
          </button>
        </div>
      </div>

      <!-- About Me Section -->
      <div
        id="aboutme"
        class="w-full h-screen flex-shrink-0 px-[329px] flex flex-col items-center justify-center relative"
        :style="selectedTeam ? `background-color: ${teamColors[selectedTeam].DEFAULT};` : 'background-color: var(--custom-white);'"
      >
        <!-- About Me Content -->
        <div class="flex flex-col items-center justify-center h-full max-w-6xl w-full -mt-20">
          <!-- Title Group -->
          <div class="text-center mb-16">
            <h1
              class="text-8xl font-playfair font-bold mb-6 hover-animate"
              :style="selectedTeam ? `color: ${teamColors[selectedTeam].secondary};` : 'color: var(--custom-black);'"
            >
              HELLO XPLORERS!
            </h1>

            <h2
              class="text-4xl font-montserrat mb-8 hover-animate"
              :style="selectedTeam ? `color: ${teamColors[selectedTeam].secondary};` : 'color: var(--custom-black);'"
            >
              My name is Muhammad Khalid Atthoriq
            </h2>

            <p
              class="text-2xl font-montserrat max-w-4xl mx-auto leading-relaxed hover-animate"
              :style="selectedTeam ? `color: ${teamColors[selectedTeam].secondary};` : 'color: var(--custom-black);'"
            >
              I'm a passionate creator with expertise in front-end development,
              design, and multimedia. I love bringing ideas to life through code
              and creativity.
            </p>
          </div>

          <!-- Icons Grid -->
          <div class="grid grid-cols-3 gap-24 mt-12">
            <!-- Projects Card -->
            <button class="group">
              <div class="flex flex-col items-center space-y-4">
                <div
                  class="w-28 h-28 rounded-2xl bg-custom-pink flex items-center justify-center transform transition-all duration-300 group-hover:bg-custom-gold group-hover:scale-105 group-hover:shadow-lg"
                >
                  <svg
                    class="w-12 h-12 text-custom-black"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"
                    ></path>
                  </svg>
                </div>
                <span
                  class="text-xl font-montserrat font-medium text-custom-black transition-all duration-300 group-hover:text-custom-gold"
                  :style="selectedTeam ? `color: ${teamColors[selectedTeam].secondary};` : 'color: var(--custom-black);'"
                >Projects</span>
              </div>
            </button>

            <!-- CV Card -->
            <button class="group">
              <div class="flex flex-col items-center space-y-4">
                <div
                  class="w-28 h-28 rounded-2xl bg-custom-pink flex items-center justify-center transform transition-all duration-300 group-hover:bg-custom-gold group-hover:scale-105 group-hover:shadow-lg"
                >
                  <svg
                    class="w-12 h-12 text-custom-black"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                    ></path>
                  </svg>
                </div>
                <span
                  class="text-xl font-montserrat font-medium text-custom-black transition-all duration-300 group-hover:text-custom-gold"
                  :style="selectedTeam ? `color: ${teamColors[selectedTeam].secondary};` : 'color: var(--custom-black);'"
                >My CV</span>
              </div>
            </button>

            <!-- Contact Card -->
            <button class="group">
              <div class="flex flex-col items-center space-y-4">
                <div
                  class="w-28 h-28 rounded-2xl bg-custom-pink flex items-center justify-center transform transition-all duration-300 group-hover:bg-custom-gold group-hover:scale-105 group-hover:shadow-lg"
                >
                  <svg
                    class="w-12 h-12 text-custom-black"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"
                    ></path>
                  </svg>
                </div>
                <span
                  class="text-xl font-montserrat font-medium text-custom-black transition-all duration-300 group-hover:text-custom-gold"
                  :style="selectedTeam ? `color: ${teamColors[selectedTeam].secondary};` : 'color: var(--custom-black);'"
                >Contact Me</span>
              </div>
            </button>
          </div>
        </div>

        <!-- Navigation Arrows for About Me -->
        <div
          class="absolute left-12 top-1/2 -translate-y-1/2 flex flex-col items-center space-y-4"
          x-show="currentSection === 1"
        >
          <button
            @click="currentSection = 0"
            class="group flex flex-col items-center transition-all duration-300"
          >
            <div
              class="w-12 h-12 rounded-full border-2 border-custom-black flex items-center justify-center mb-2 group-hover:bg-custom-gold group-hover:border-custom-gold transition-all duration-300"
            >
              <span class="text-2xl text-custom-black group-hover:text-custom-gold transition-all duration-300">&larr;</span>
            </div>
            <span
              class="text-sm font-montserrat text-custom-black opacity-0 group-hover:opacity-100 transition-all duration-300"
            >Home</span>
          </button>
        </div>

        <div
          class="absolute right-12 top-1/2 -translate-y-1/2 flex flex-col items-center space-y-4"
          x-show="currentSection === 1"
        >
          <button
            @click="currentSection = 2"
            class="group flex flex-col items-center transition-all duration-300"
          >
            <div
              class="w-12 h-12 rounded-full border-2 border-custom-black flex items-center justify-center mb-2 group-hover:bg-custom-gold group-hover:border-custom-gold transition-all duration-300"
            >
              <span class="text-2xl text-custom-black group-hover:text-custom-gold transition-all duration-300">&rarr;</span>
            </div>
            <span
              class="text-sm font-montserrat text-custom-black opacity-0 group-hover:opacity-100 transition-all duration-300"
            >My Work</span>
          </button>
        </div>
      </div>

      <!-- My Work Section -->
      <div
        id="mywork"
        class="w-full h-screen flex-shrink-0 px-[329px] flex flex-col items-center justify-center relative -mt-12"
        :style="selectedTeam ? `background-color: ${teamColors[selectedTeam].DEFAULT};` : 'background-color: var(--custom-white);'"
      >
        <!-- My Work Content -->
        <div class="flex flex-col items-center justify-center h-full max-w-6xl w-full">
          <!-- Title -->
          <h1
            class="text-8xl font-playfair font-bold mb-16 hover-animate"
            :style="selectedTeam ? `color: ${teamColors[selectedTeam].secondary};` : 'color: var(--custom-black);'"
          >
            MY WORK
          </h1>

          <!-- Portfolio Grid -->
          <div class="grid grid-cols-2 gap-8 w-full">
            <!-- Programming Portfolio Card -->
            <div
              class="group relative overflow-hidden rounded-2xl aspect-square"
              :style="selectedTeam ? `border: 4px solid ${teamColors[selectedTeam].secondary};` : 'border: 4px solid var(--custom-gold);'"
            >
              <img
                src="/src/assets/Images/Programming.jpg"
                alt="Programming Portfolio"
                class="w-full h-full object-cover transition-all duration-500 group-hover:grayscale group-hover:scale-110"
              />
              <div
                class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-center justify-center"
                :style="selectedTeam ? `background-color: ${teamColors[selectedTeam].secondary}99;` : 'background-color: rgba(0, 0, 0, 0.5);'"
              >
                <h2
                  class="text-4xl font-playfair font-bold hover-animate"
                  :style="selectedTeam ? `color: ${teamColors[selectedTeam].DEFAULT};` : 'color: white;'"
                >
                  PROGRAMMING
                </h2>
              </div>
            </div>

            <!-- Creative Portfolio Card -->
            <div
              class="group relative overflow-hidden rounded-2xl aspect-square"
              :style="selectedTeam ? `border: 4px solid ${teamColors[selectedTeam].secondary};` : 'border: 4px solid var(--custom-gold);'"
            >
              <img
                src="/src/assets/Images/Creative.jpg"
                alt="Creative Portfolio"
                class="w-full h-full object-cover transition-all duration-500 group-hover:grayscale group-hover:scale-110"
              />
              <div
                class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-center justify-center"
                :style="selectedTeam ? `background-color: ${teamColors[selectedTeam].secondary}99;` : 'background-color: rgba(0, 0, 0, 0.5);'"
              >
                <h2
                  class="text-4xl font-playfair font-bold hover-animate"
                  :style="selectedTeam ? `color: ${teamColors[selectedTeam].DEFAULT};` : 'color: white;'"
                >
                  CREATIVE
                </h2>
              </div>
            </div>
          </div>
        </div>

        <!-- Navigation Arrow back to About Me -->
        <div
          class="absolute left-12 top-1/2 -translate-y-1/2 flex flex-col items-center space-y-4"
          x-show="currentSection === 2"
        >
          <button
            @click="currentSection = 1"
            class="group flex flex-col items-center transition-all duration-300"
          >
            <div
              class="w-12 h-12 rounded-full border-2 border-custom-black flex items-center justify-center mb-2 group-hover:bg-custom-gold group-hover:border-custom-gold transition-all duration-300"
            >
              <span class="text-2xl text-custom-black group-hover:text-custom-gold transition-all duration-300">&larr;</span>
            </div>
            <span
              class="text-sm font-montserrat text-custom-black opacity-0 group-hover:opacity-100 transition-all duration-300"
            >About Me</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="//unpkg.com/alpinejs" defer></script>