---
import "../styles/global.css";
const { selectedTeam, teamColors } = Astro.props;

---
<script src="//unpkg.com/alpinejs" defer></script>
<!-- My Work Section -->
<section id="work"
  class="w-full min-h-screen flex-shrink-0 px-4 sm:px-8 md:px-16 lg:px-24 flex flex-col items-center justify-center relative pt-16 md:pt-20 bg-[#F5F5F5]"
  :style="selectedTeam ? `background-color: ${teamColors[selectedTeam].base};` : 'background-color: var(--custom-white);'"
>
  <!-- My Work Content -->
  <div class="w-full max-w-6xl mx-auto">
    <!-- Title -->
    <h1
      class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-bold mb-8 md:mb-12 text-center opacity-0 translate-y-8 animate-initial transition-all duration-1000 hover:scale-105 hover:opacity-90"
      :style="selectedTeam ? `color: ${teamColors[selectedTeam].accent};` : 'color: var(--custom-black);'"
    >
      MY WORK
    </h1>

    <!-- Portfolio Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 w-full">
      <!-- Programming Portfolio Card -->
      <a
        href="/Portocoding"
        class="group relative overflow-hidden rounded-lg aspect-square cursor-pointer opacity-0 translate-y-8 animate-initial transition-all duration-1000 delay-300"
        :style="selectedTeam ? `border: 2px solid ${teamColors[selectedTeam].accent};` : 'border: 2px solid var(--custom-gold);'"
      >
        <!-- Image -->
        <img
          src="/Images/Programming.webp"
          alt="Programming Portfolio"
          loading="lazy"
          class="w-full h-full object-cover transition-all duration-500 group-hover:grayscale group-hover:brightness-50"
        />
        <!-- Overlay Text -->
        <div
          class="absolute inset-0 flex items-center justify-center bg-black/50 opacity-100 md:opacity-0 transition-all duration-500 group-hover:opacity-100"
        >
          <h2
            class="text-2xl sm:text-3xl md:text-4xl font-bold text-center text-white transition-all duration-500"
          >
            PROGRAMMING
          </h2>
        </div>
      </a>

      <!-- Creative Portfolio Card -->
      <a
        href="/Portocreative"
        class="group relative overflow-hidden rounded-lg aspect-square cursor-pointer opacity-0 translate-y-8 animate-initial transition-all duration-1000 delay-300"
        :style="selectedTeam ? `border: 2px solid ${teamColors[selectedTeam].accent};` : 'border: 2px solid var(--custom-gold);'"
      >
        <!-- Image -->
        <img
          src="/Images/Creative.webp"
          alt="Creative Portfolio"
          loading="lazy"
          class="w-full h-full object-cover transition-all duration-500 group-hover:grayscale group-hover:brightness-50"
        />
        <!-- Overlay Text -->
        <div
          class="absolute inset-0 flex items-center justify-center bg-black/50 opacity-100 md:opacity-0 transition-all duration-500 group-hover:opacity-100"
        >
          <h2
            class="text-2xl sm:text-3xl md:text-4xl font-bold text-center text-white transition-all duration-500"
          >
            CREATIVE
          </h2>
        </div>
      </a>
    </div>
  </div>
</section>

<!-- Intersection Observer Script -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-in');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.animate-initial').forEach(observer.observe.bind(observer));
  });
</script>

<style>
  /* Animation Classes */
  .animate-initial {
    opacity: 0;
    transform: translateY(20px);
  }

  .animate-in {
    opacity: 1 !important;
    transform: translateY(0) !important;
  }

  /* Hover Animations for Title */
  h1 {
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  h1:hover {
    transform: scale(1.05);
    opacity: 0.9;
  }
</style>